<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WoleGT Books</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Paystack -->
  <script src="https://js.paystack.co/v1/inline.js"></script>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XXXXXXXXXX');
  </script>

  <!-- Meta Pixel -->
  <script>
    !function(f,b,e,v,n,t,s){
      if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)
    }(window, document,'script','https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', 'PIXEL_ID_HERE');
    fbq('track', 'PageView');
  </script>

  <style>
    body { background-color: grey; }

    .navbar-text {
      text-align: center;
      width: 100%;
      font-size: 0.95rem;
    }

    .card img {
      max-height: 240px;
      object-fit: contain;
      padding: 10px;
    }

    /* Zoom animation */
    .carousel-item.active .card {
      animation: zoomIn 0.6s ease;
    }

    @keyframes zoomIn {
      from { transform: scale(0.95); opacity: 0.7; }
      to { transform: scale(1); opacity: 1; }
    }
  </style>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar navbar-dark bg-dark">
  <div class="container-fluid justify-content-center">
    <span class="navbar-text text-white">
      “The Lord gave the word; great was the company of those who published it” — Psalm 68:11
    </span>
  </div>
</nav>

<h2 class="text-center my-4">Books</h2>

<div class="container">
  <div id="bookCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="7000">

    <!-- INDICATORS -->
    <div class="carousel-indicators">
      <button data-bs-target="#bookCarousel" data-bs-slide-to="0" class="active"></button>
      <button data-bs-target="#bookCarousel" data-bs-slide-to="1"></button>
    </div>

    <div class="carousel-inner">

      <!-- SLIDE 1 -->
      <div class="carousel-item active">
        <div class="row justify-content-center">

          <!-- CARD 1 (always visible) -->
          <div class="col-md-6 col-12 mb-4">
            <div class="card text-center">
              <img src="./images/book-2.jpg" loading="lazy" class="img-fluid">
              <div class="card-body">
                <h5>The Cost of Obedience</h5>
                <p><s>₦</s>5,000 paperback</p>
                <button class="btn btn-outline-dark"
                  onclick="trackDownload('The Cost of Obedience')">
                  Free Download
                </button>
              </div>
            </div>
          </div>

          <!-- CARD 2 (HIDDEN ON MOBILE) -->
          <div class="col-md-6 mb-4 d-none d-md-block">
            <div class="card text-center">
              <img src="./images/book-1.jpg" loading="lazy" class="img-fluid">
              <div class="card-body">
                <h5>My School of Prayer</h5>
                <p><s>₦</s>5,000 paperback</p>
                <button class="btn btn-outline-dark"
                  onclick="payWithPaystack('My School of Prayer',5000)">
                  Pay & Download
                </button>
              </div>
            </div>
          </div>

        </div>
      </div>

      <!-- SLIDE 2 -->
      <div class="carousel-item">
        <div class="row justify-content-center">

          <div class="col-md-6 col-12 mb-4">
            <div class="card text-center">
              <img src="./images/book-3.jpg" loading="lazy" class="img-fluid">
              <div class="card-body">
                <h5>Centrality of Anointing</h5>
                <p><s>₦</s>5,000 paperback</p>
                <button class="btn btn-outline-dark"
                  onclick="trackDownload('Centrality of Anointing')">
                  Free Download
                </button>
              </div>
            </div>
          </div>

          <div class="col-md-6 mb-4 d-none d-md-block">
            <div class="card text-center">
              <img src="./images/book-4.jpg" loading="lazy" class="img-fluid">
              <div class="card-body">
                <h5>Walk Before Me</h5>
                <p><s>₦</s>5,000 paperback</p>
                <button class="btn btn-outline-dark"
                  onclick="trackDownload('Walk Before Me')">
                  Free Download
                </button>
              </div>
            </div>
          </div>

        </div>
      </div>

    </div>

    <!-- CONTROLS -->
    <button class="carousel-control-prev" data-bs-target="#bookCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </button>
    <button class="carousel-control-next" data-bs-target="#bookCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
    </button>

  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
  function trackDownload(book) {
    gtag('event','download',{item_name:book});
    fbq('track','Download',{content_name:book});
    window.location.href='images/THE COST OF OBEDIENCE.pdf';
  }

  function payWithPaystack(book, amount) {
    gtag('event','purchase_start',{item_name:book});
    fbq('track','InitiateCheckout',{content_name:book});

    PaystackPop.setup({
      key:'pk_live_dfc440090e845290f2a05601c43460e4767cc142',
      email:'customer@email.com',
      amount:amount*100,
      currency:'NGN',
      callback:function(){
        gtag('event','purchase',{item_name:book,value:amount});
        fbq('track','Purchase',{content_name:book,value:amount,currency:'NGN'});
        window.location.href='download-success.html';
      }
    }).openIframe();
  }
</script>

</body>
</html>
